<!DOCTYPE html>
<html lang="en">
 
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Hola Vue</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
        
  <body>
    <nav class="navbar navbar-light bg-info">
      <span class="navbar-brand mb-0 h1">Hola 0048</span>
    </nav>

    <div class="container">    
      <div id='app'>
        <div class="row pt-5">
          <div class="col">
            <img v-bind:src="img" width="100%">           
          </div>
        <div class="col">
          <h1>{{ product }} </h1>
          <h2>{{ description}}</h2>
          <h4>{{stock}}</h4>
          <p v-if='stock>10'> en stock</p>
          <p v-else-if= 'stock <= 10 && stock > 0'>quedan muy pocas </p>
          <p v-else>Agotadas</p>
            <ul>
              <li v-for='(detail, index) in details' :key="index">{{detail}}</li>
            </ul>
            <div v-for='variant in variants' :key='variant.id'>
              <p v-on:mouseover='updateProduct(variant)'>{{variant.type}}</p>

            </div>
          <a :href="link">ver</a>
          <p>{{cart}}</p>
          <button class="btn btn-sm btn-info" @click='addToCart' :disabled="!inStock"> agragar  al carro</button>
          <button class="btn btn-sm btn-warning" @click='removeFromCart'>Sacar del carro</button>


        </div>
        </div>
      </div>
    </div>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  
  </body>
    
</html>
    <script>
    var app = new Vue({
        el: '#app',
        data: {
          description:'loren ipsum',
          product: 'Longaniza de Brocolli',
          selectedVariant: {},
          link:'./longaniza.html',
          details: ["500 gr", "organica", "libre de colesterol"],
          variants:[{
              id:5,
              type:'red',
              img: 'assets/roja.jpeg',
              stock:10,
              default: true
          },
          {
              id:4,
              type:'white',
              img: 'assets/blanca.png',
              stock: 0
            }
        ],
        cart:0
      },
        methods: {
          updateProduct(variant) {

            this.selectedVariant=variant;
        },
        addToCart(){
          this.cart+=1
          this.selectedVariant.stock-=1
        },
        removeFromCart(){
          if(this.cart > 0){
           
            this.cart-=1
            this.selectedVariant.stock+=1
          }
        }
      },

      computed: {
        inStock(){
           return this.stock>0 ? true :false //retornar el stock >0 ? (if) es verdadero : (si no)  es falso 
        },
        img(){
          return this.selectedVariant.img
        },
        stock(){
          return this.selectedVariant.stock
        }
      },
      created() {
        
        this.selectedVariant= this.variants.find(item => item.default ==true)
        
      }
    })

    </script>